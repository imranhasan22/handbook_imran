# Content

- [BSON](#bson)
- [CRUD](#crud)
- [Bulk Operations](#bulk-operations)

# BSON

BSON (Binary JSON) is a binary-encoded serialization of JSON-like documents.

BSON supports all JSON types and includes additional data types such as:

- **Date**: Stores date-time values.
- **ObjectId**: A unique identifier generated by MongoDB for each document.
- **Binary Data**: Stores binary data like images or files.
- **MinKey/MaxKey**: Special types used for comparing BSON elements.
- **Int32, Int64, Double**: Different numeric types for storing integer and floating-point numbers.

In MongoDB, data is stored in a document format, which uses BSON for storing these documents, and for representing data it just uses JSON-like structure.

**Example:**
When you insert a JSON-like document into MongoDB, it converts it into BSON format for internal storage.

**JSON:**

```json
{
  "name": "Wireless Mouse",
  "price": 25.99,
  "inStock": true,
  "manufacturedDate": "2024-01-01T00:00:00Z",
  "specifications": {
    "color": "black",
    "weight": 0.1
  }
}
```

**BSON:**

```bson
{
   "_id": ObjectId("64b8d2e3e8c3bc7fbb9d3e45"),
   "name": "Wireless Mouse",
   "price": 25.99,
   "inStock": true,
   "manufacturedDate": ISODate("2024-01-01T00:00:00Z"),
   "specifications": {
      "color": "black",
      "weight": Double(0.1)
   }
}
```

# CRUD

## Create

### `insertOne()`

```shell
db.users.insertOne({
   "name": "Alice",
   "age": 28
});
```

### `insertMany()`

```shell
db.users.insertMany([
   {
      "name": "Bob",
      "age": 32
   },
   {
      "name": "Charlie",
      "age": 25
   }
]);
```

# Bulk Operations

Bulk operations in MongoDB allow you to execute multiple write operations (inserts, updates, deletes) in a single request.

## Types of Bulk Operations

- **Ordered Bulk Operations**: Executes operations in the order they are defined. If an error occurs during one of the operations, MongoDB stops executing further operations.
- **Unordered Bulk Operations**: Executes operations in parallel without following a specific order. If an error occurs, MongoDB will continue executing the remaining operations.

## `bulkWrite()`

**Ordered:**

```shell
db.users.bulkWrite([
     {
      insertOne: {
       "document": {
         "name": "Alice",
         "age": 28
       }
   }}, { updateOne: {
       "filter": { "name": "Alice" },
       "update": { $set: { "age": 28 } }
   }}, { deleteOne: {
       "filter": { "name": "Alice" }
   }}
]);
```

**Unordered:**

```shell
db.users.bulkWrite([
     {
      insertOne: {
       "document": {
         "name": "Alice",
         "age": 28
       }
   }}, { updateOne: {
       "filter": { "name": "Alice" },
       "update": { $set: { "age": 28 } }
   }}, { deleteOne: {
       "filter": { "name": "Alice" }
   }}
], { ordered: false });
```
